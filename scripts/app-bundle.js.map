{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/resources/index.js","src/resources/elements/youtube-video.js","src/resources/value-converters/date.js","app.scss","resources/elements/youtube-video.scss"],"names":["App","apiKey","videosPerPage","message","videos","channel","pageNum","maxPages","nextPageToken","prevPageToken","searchedTerm","lastResult","playVideo","loading","currentChannel","id","name","window","app","$","getJSON","data","key","document","body","addEventListener","e","performPlay","detail","openChannel","performSearch","a","console","log","collapse","restartPager","resetChannel","getList","query","pageToken","url","encodeURI","Math","ceil","pageInfo","totalResults","resultsPerPage","items","scrollTo","prevPage","nextPage","vid","youtubeFrame","src","closeVideo","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","config","YoutubeVideo","attached","vdata","DateValueConverter","toView","value","format","fromView"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  constructor() {\n    this.apiKey = '';\n    this.videosPerPage = 25;\n    this.message = 'Hello World!';\n    this.videos = [];\n    this.channel = [];\n    this.pageNum = 1;\n    this.maxPages = 1;\n    this.nextPageToken = null;\n    this.prevPageToken = null;\n    this.searchedTerm = \"\";\n    this.lastResult = null;\n    this.playVideo = false;\n    this.loading = true;\n    this.currentChannel = {id : null,name: null};\n    window.app = this; //FIXME: For debug purposes only\n\n    $.getJSON('./api.json', (data) => {\n      this.apiKey = data.key;\n      this.loading = false;\n    });\n\n    document.body.addEventListener('playVideo', (e) => {this.performPlay(e.detail)});\n    document.body.addEventListener('openChannel', (e) => {this.openChannel(e.detail)});\n  }\n\n  performSearch(a) {\n    console.log(a);\n    $('.navbar-collapse').collapse('hide') //Responsivity hack to close the sidebar\n    this.restartPager();\n    this.resetChannel;\n    this.currentChannel = {}\n    this.getList(this.searchedTerm);\n  }\n\n  getList(query,channel=null,pageToken=null) {\n    this.videos = [];\n    this.nextPageToken = null;\n    this.prevPageToken = null;\n\n    this.loading=true;\n    let url = \"https://www.googleapis.com/youtube/v3/search?part=snippet&q=\" + encodeURI(query) + \"&maxResults=\" + this.videosPerPage + '&key=' + this.apiKey;\n    if (channel) url = url + '&channelId='+channel;\n    if (pageToken) url = url + \"&pageToken=\" + pageToken;\n    $.getJSON(url,(data) => {\n      this.lastResult = data;\n      if (data.nextPageToken) this.nextPageToken = data.nextPageToken \n      if (data.prevPageToken) this.prevPageToken = data.prevPageToken;\n      this.maxPages = Math.ceil(this.lastResult.pageInfo.totalResults/this.lastResult.pageInfo.resultsPerPage);\n\n      this.videos = data.items;\n      this.loading=false;\n      window.scrollTo(0,0);\n    });\n\n  }\n  openChannel(id,name) {\n    console.log(id);\n    console.log(name);\n    this.searchedTerm = \"\"\n    this.currentChannel = {'id' : id, 'name' : name};\n    this.getList('',this.currentChannel.id);\n  }\n\n  restartPager() {\n    this.pageNum = 1;\n    this.nextPageToken = null;\n    this.prevPageToken = null;\n  }\n  prevPage() {\n    this.getList(this.searchedTerm,this.currentChannel.id,this.prevPageToken);\n    this.pageNum--;\n  }\n  nextPage() {\n    this.getList(this.searchedTerm,this.currentChannel.id,this.nextPageToken);\n    this.pageNum++;\n  }\n  performPlay(vid) {\n    console.log(vid);\n    this.playVideo = true;\n    this.youtubeFrame.src=\"http://www.youtube.com/embed/\" + vid;\n  }\n  closeVideo() {\n    this.playVideo=false;\n    this.youtubeFrame.src='about:blank'\n  }\n  resetChannel() {\n    this.currentChannel = {id : null,name: null};\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n//    .plugin('aurelia-bootstrap', config => config.options.version = 4);\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {bindable} from 'aurelia-framework';\n\nexport class YoutubeVideo {\n  @bindable vdata;\n  @bindable channelFn;\n  @bindable playFn;\n\n  attached() {\n    console.log(this.vdata);\n  }\n}\n","import moment from 'moment';\n\nexport class DateValueConverter {\n  toView(value) {\n    console.log(moment);\n    return moment(value).format('DD.MM.YYYY');\n  }\n\n  fromView(value) {\n\n  }\n}\n\n",":root {\n  font-size:16px;\n}\n\n@media (min-width: 768px) {\n  #mobile-search-input {\n    display:none;\n  }\n}\n\nnav.navbar {\n  border-top-right-radius: 0px;\n  border-top-left-radius:0px\n}\n\n#page {\n}\n.yt {\n  color:white;\n  font-weight:bold;\n  text-shadow: 0px 0px 8px rgba(255,0,0,0.9);\n}\n\n.no-vids-placeholder, .loading {\n  text-align:center;\n}\n.loading {\n  margin-top:1rem;\n}\n.loading > span {\n  font-size:10rem;\n  animation:load 1s linear infinite;\n}\n\n#paginator{\n  text-align:center;\n  margin-bottom:1rem;\n  margin-top:1rem;\n  div {\n    display:inline-block;\n  }\n  * {\n    margin-left:0.1rem;\n    margin-right:0.1rem;\n  }\n  div > div {\n    margin-top:0.4rem;\n  }\n}\n\n#video-modal {\n  width:100%;\n  height:100%;\n  z-index:999;\n  position:fixed;\n  top:0;\n  left:0;\n  background-color:rgba(0,0,0,0.5);\n}\n\n#video-modal > button {\n  display:block;\n  position:absolute;\n  z-index:1001;\n  right:5%;\n  top:5%;\n  padding:0;\n  border:0;\n  opacity:0.75;\n}\n\n#video-modal > button:hover {\n  opacity:1;\n}\n\niframe[ref=youtubeFrame] {\n    position:absolute;\n    z-index:1000;\n}\n@media (max-width: 768px) {\n  iframe[ref=youtubeFrame] {\n    width:100%;\n    height:100%;\n    top:0;\n    left:0;\n  }\n}\n\n@media (min-width: 768px) {\n  iframe[ref=youtubeFrame] {\n    width:90%;\n    height:90%;\n    top:5%;\n    left:5%;\n  }\n}\n@keyframes load {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n","youtube-video {\n  img {\n    float:left;\n    margin-right:1rem;\n  }\n  h3:hover,img:hover {\n    cursor:pointer;\n  }\n  span {\n    word-wrap:break-word;\n  }\n  .video-extra-data {\n    font-size:0.75rem;\n  }\n  span:first-of-type:after {\n    content: ' ';\n  }\n}\n"],"sourceRoot":".."}